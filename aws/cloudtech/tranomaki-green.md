# AWS の作成手順
## ルートユーザーで行うこと
- MFAを追加
- CloudWatchによる請求アラートの設定
- CloudWatch -> 請求 (リージョンをバージニアにして作成) -> 請求アラームの設定
- AWS Cost Explorerの有効化
- 証跡の作成
- IAMユーザーの作成

## 仮想ネットワークの作成
サーバとは高性能なコンピュータ
ネットワーク環境を用意する役割を果たすのがVPC
プライベートネットワーク = 内部ネットワーク

### Amazon VPC
AWS上に自分用の仮想的なネットワークを作成し、セキュリティとネットワークの設定をカスタマイズする。
IPアドレス範囲やサブネット、ルートテーブルを自分で設定し、トラフィックの制御やアクセス制限も可能。
Webサーバやデータベースサーバを配置するためのネットワーク基盤として作成

### Subnet
ネットワーク内の一部のセグメントを指す用語であり、IPアドレス範囲を意味する。
VPC内でサブネットを作成することで、ネットワークを論理的に分割し、それぞれのサブネットにIPアドレス範囲を割り当てることができる。(ネットワークトラフィックの制御やセキュリティの強化が可能)
AZ(AWSにおけるデータセンターのようなイメージ)を設定

### ルートテーブル
ネットワークトラフィックの送信先を制御するための設定。
VPCでは、VPC内のサブネットごとにルートテーブルを定義。
送信先としての宛先CIDRブロックと、それに対応するゲートウェイやネットワークインターフェースが設定される。
ネットワーク内のパケットがどの方向に送信されるかを決定し、トラフィックの経路を制御する。
例: インターネットにアクセスするには、パブリックサブネットに対してインターネットゲートウェイへの経路を指定する必要がある。

### インターネットゲートウェイ
VPC内のプライベートネットワークとインターネットを接続する役割を持つ。
IGを使用すると、VPC内のパブリックサブネットに配置されたリソースがインターネットと通信できる。
IGは、VPC内でルートテーブルの設定として使用され、VPC内のトラフィックの経路を制御する。つまり、インターネットゲートウェイを通じてパブリックなインターネットへの通信を可能にする。

### 作成手順
VPC -> Subnet -> Internet-gateway -> ルートテーブルに追加


## Webサーバの構築

### Amazon EC2
コンピューティング能力やメモリ、ストレージなどのリソースを柔軟に調整でき、いろいろな用途に適した仮想マシンを提供する。

### セキュリティグループ
AWS におけるネットワークセキュリティのための設定。
ユーザーが設定したルールに基づいて、ネットワークトラフィックの制御を行う。

### 作成手順
EC2 -> セキュリティグループインバウンドルールの設定 -> Apacheのインストール

### AmazonLinux上でのApache・gitインストール手順
```
sudo yum update
sudo yum install httpd
sudo yum install php
sudo service httpd start
sudo yum update
sudo yum install git
sudo chkconfig httpd on
```

## データベースの構築
[参考コマンド](https://github.com/CloudTechOrg/book-publish-web-application/blob/main/commands/chapter6.md)
[EC2上にMySQLインストール時のエラー]()
### Amazon RDS
データベースのバックアップ、パフォーマンスの監視、スケーリングなどの作業の自動化されており、高い可溶性と信頼性を提供。セキュリティも重視 -> データの暗号化やアクセス制御などの機能も用意されている。

### 作成手順
Subnet(DB用を2つ, 別のアベイラビリティゾーンで作成) -> RDS(サブネットグループを作成) -> DB作成 -> RDSにセキュリティグループの追加 -> EC2を踏み台にしてRDSに接続テスト -> パッケージのインストール -> 

## 負荷分散

